
### Сетевые IPv4-адреса

### Структура IPv4 адресов
![[Pasted image 20250113142709.png]]
Биты в сетевой части адреса должны быть одинаковыми у всех устройств, находящихся в одной сети. Биты в хостовой части адреса должны быть уникальными для каждого хоста в сети. Если два узла имеют одну битовую комбинацию в определенной сетевой части 32-битного потока, то эти два узла находятся в одной и той же сети.
### Маска подсети IPv4
![[Pasted image 20250113142755.png]]
Маска подсети IPv4 — это 32-битовое значение, которое отделяет сетевую часть адреса от хостовой части. При назначении устройству IPv4-адреса для определения адреса сети, к которому относится данное устройство, используется маска подсети. Сетевой адрес представляет все устройства в одной сети.

Представление сетевых адресов и адресов узлов путем в виде маски подсети в десятичном формате с точкой-разделителем может быть очень громоздким. К счастью, существует альтернативный, более простой, способ определения маски подсети, называемый длиной префикса.

Длина префикса означает количество бит, установленных в единицу (1) в маске подсети. Она обозначается наклонной чертой вправо («/»), после которой идет набор единиц. Следовательно, нужно подсчитать число битов в маске подсети и поставить перед этим значением косую черту.
![[Pasted image 20250113143024.png]]
### Одноадресная, широковещательная и многоадресная рассылка IPv4
Одноадресная передача относится к одному устройству, отправляющему сообщение другому устройству в режиме один-в-один.

Широковещательная рассылка связана с устройством, отправляющее сообщение всем остальным устройствам в сети в режиме «один-ко всем».
Пакет широковещательной рассылки содержит IPv4-адрес назначения, в узловой части которого присутствуют только единицы (1).
Широковещательный пакет должен обрабатываться всеми устройствами в одном домене широковещательной рассылки. Домен широковещательной рассылки идентифицирует все узлы в одном сегменте сети. Есть два типа широковещательной рассылки: прямая и ограниченная. Прямая широковещательная рассылка передается всем узлам в конкретной сети. Например, узел в сети 172.16.4.0/24 отправляет пакет на адрес 172.16.4.255. Ограниченная широковещательная рассылка отправляется на адрес 255.255.255.255. По умолчанию, маршрутизаторы не пересылают широковещательные рассылки.


Многоадресный пакет — это пакет с IP-адресом назначения, который является адресом многоадресной рассылки. Для многоадресной рассылки в протоколе IPv4 зарезервированы адреса от 224.0.0.0 до 239.255.255.255.
Каждая группа многоадресной рассылки представлена одним групповым IPv4-адресом назначения. Когда IPv4-узел подписывается на группу многоадресной рассылки, он обрабатывает пакеты, адресованные на этот групповой адрес, а также пакеты, адресованные на его уникальный индивидуальный адрес.
### Типы адресов IPv4

#### Публичные и частные адреса
Публичные IPv4-адреса представляют собой адреса, на глобальном уровне маршрутизируемые между маршрутизаторами интернет-провайдеров (Internet Service Provider, ISP). Однако, не все доступные IPv4-адреса можно использовать в Интернете. Имеются блоки адресов, называемые частными адресами, которые в большинстве компаний назначаются в качестве IPv4-адресов внутренних хостов.
В середине 1990-х гг. из-за исчерпания адресного пространства IPv4 были введены частные адреса IPv4. Частные адреса IPv4 не являются уникальными и могут использоваться в любой внутренней сети.

Большинство внутренних сетей, от крупных предприятий до домашних сетей, используют частные IPv4 адреса для адресации всех внутренних устройств (интрасети), включая хосты и маршрутизаторы. Однако, частные адреса не являются глобально маршрутизируемыми.
![[Pasted image 20250113144703.png]]

#### NAT
Прежде чем поставщик услуг Интернета сможет переслать этот пакет, он должен преобразовать исходный адрес IPv4, который является частным адресом, в публичный адрес IPv4 с помощью преобразования сетевых адресов (NAT). NAT выполняет преобразование между частными и общедоступными адресами IPv4. Это обычно выполняется на маршрутизаторе, который обеспечивает соединение между внутренней сетью и сетью ISP. Частные IPv4 адреса в интрасети организации будут преобразованы в общедоступные IPv4 адреса перед маршрутизацией в Интернет.

#### Специального назначения
##### loopback
Некоторые адреса (например, сетевые и широковещательные) нельзя назначать узлам. Также есть особые адреса, которые можно назначать узлам, но с ограничениями способов взаимодействия этих узлов в сети.
Адреса loopback (127.0.0.0 /8 или от 127.0.0.1 до 127.255.255.254): чаще определяются как только один адрес 127.0.0.1— это особые адреса, которые используют узлы, чтобы направлять трафик самим себе. Например, они могут использоваться узлом, чтобы проверить работоспособность конфигурации TCP/IP

##### APIPA
Локальные адреса канала или адреса автоматической частной IP-адресации (APIPA) 169.254.0.0 /16 или от 169.254.0.1 до 169.254.255.254 Они используются клиентом DHCP Windows для самостоятельной настройки в случае отсутствия доступных DHCP-серверов. Локальные адреса связи могут использоваться в одноранговом соединении, но не используются для этой цели.

![[Pasted image 20250113151305.png]]