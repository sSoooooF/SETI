Программы прикладного уровня генерируют данные, которыми необходимо обмениваться между узлами источника и назначения. Транспортный уровень отвечает за логические связи между приложениями, работающими на разных узлах. Это может включать в себя такие сервисы, как установление временного сеанса между двумя хостами и надежная передача информации для приложения.
### Протоколы транспортного уровня

На транспортном уровне действуют два протокола:
- Протокол управления передачей (Transmission Control Protocol -TCP)
- Протокол пользовательских датаграмм (User Datagram Protocol - UDP)

### Обмен данными по TCP
TCP считается надежным и полнофункциональным протоколом транспортного уровня, который обеспечивает передачу всех данных на узел назначения. TCP включает поля, обеспечивающие доставку данных приложения. Эти поля требуют дополнительной обработки отправляющими и принимающими хостами.

### Надежная доставка по TCP
TCP обеспечивает надежность и управление потоком, используя следующие основные операции:
- Отслеживание количества сегментов, отправленных на тот или иной хост тем или иным приложением;
- Подтверждение полученных данных;
![[Pasted image 20250106224210.png]]
![[Pasted image 20250106224226.png]]
- Повторная передача сегментов с неподтвержденными данными по истечении определенного времени ожидания;
![[Pasted image 20250106224240.png]]
- Последовательность данных, которые могут поступить в неправильном порядке;
![[Pasted image 20250106224156.png]]
- Отправка данных с эффективной скоростью, приемлемой для получателя.

### Процессы TCP-сервера
Каждый процесс приложения, работающий на сервере, использует номер порта. Номер порта автоматически назначается или настраивается системным администратором вручную.

Не допускается использование двумя различными службами на одном и том же сервере одного и того же порта с одинаковым протоколом транспортного уровня. Например, приложение веб-сервера и приложение передачи файлов, которые запущены на одном узле, не могут быть настроены на использование одного и того же порта

![[Pasted image 20250106222706.png]]
![[Pasted image 20250106222722.png]]
![[Pasted image 20250106222738.png]]
![[Pasted image 20250106222753.png]]
![[Pasted image 20250106222806.png]]

### Установление TCP-соединения и его завершение

Установление
![[Pasted image 20250106222831.png]]
![[Pasted image 20250106222851.png]]
![[Pasted image 20250106222908.png]]

Завершение
![[Pasted image 20250106223037.png]]
![[Pasted image 20250106223054.png]]
![[Pasted image 20250106223111.png]]
![[Pasted image 20250106223124.png]]
